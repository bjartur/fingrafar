<!DOCTYPE html>
<title>Fingerprints</title>
<meta name="viewport"
  content="width=device-width, initial-scale=1, minimum-scale=1">
<style>
img {
  transition: all 5s;
  transition-timing-function: linear;
}
.transparent {
  opacity: 0
}
.opaque {
  opacity: 1
}
#fingerprinter {
  position: absolute;
  top: 50%;
  left: 50%;
  --desired: 2.11cm;
  --width: var(--desired);
  --height: calc(var(--width)*2.84/2.11);
  width: var(--width);
  height: calc(var(--height));
  margin-top: calc(-1/2*var(--width));
  margin-left: calc(-1/2*var(--height));
}
@media only screen and (max-width: 900px) and (max-height: 900px)
{
  #fingerprinter {
    --phone: 1.4cm; /*roughly measured*/
    --width: calc(var(--desired)*var(-desired)/var(--phone));
  }
  body {
    background-color: #123;
  }
}
@media only screen and ((min-width: 901px) or (min-height: 901px)) and (max-width: 1400px) and (max-height: 1400px)
{
  #fingerprinter {
    --tablet: 1.6cm; /*pure guess at the moment*/
    --width: calc(var(--desired)*var(-desired)/var(--tablet));
  }
  body {
    background-color: #234;
  }
}
@media only screen and ((min-width: 1401px) or (min-height: 1401px)) and (max-width: 2600px) and (max-height: 2600px)
{
  #fingerprinter {
    --laptop: 1.9cm; /*roughly measured*/
    --width: calc(var(--desired)*var(-desired)/var(--laptop));
  }
  body {
    background-color: #777;
  }
}
@media only screen and ((min-width: 2601px) or (min-height: 2601px))
{
  #fingerprinter {
    --tv: 4.7cm; /*roughly measured*/
    --width: calc(var(--desired)*var(-desired)/var(--tv));
  }
  body{
    background-color: #456;
  }
}
</style>
<img src="/fingerprint" id="fingerprinter" class="opaque">
<script>
  const durations = {
    opaque: 30,
    fadeOut: 5,
    transparent: 0.5,
    fadeIn: 5
  }
  s = 1000

  onload = waitAndFadeOut
  function waitAndFadeOut() {
    setTimeout(fadeOut, durations.opaque*s)
  }
  function fadeOut() {
    document.getElementById('fingerprinter').className = 'transparent'
    setTimeout(waitAndFadeIn, durations.fadeOut*s)
  }
  function waitAndFadeIn() {
    document.getElementById('fingerprinter').src = '/fingerprint?' + Math.random()
    setTimeout(fadeIn, durations.transparent*s)
  }
  function fadeIn() {
    document.getElementById('fingerprinter').className = 'opaque'
    setTimeout(waitAndFadeOut, durations.fadeIn*s)
  }
</script>
